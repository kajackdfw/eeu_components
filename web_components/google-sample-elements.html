<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-input/iron-input.html">


<script>
    // register a new element called proto-element
    Polymer({
        is: "proto-element",
        // add a callback to the element's prototype
        ready: function() {
            this.textContent = "I'm a proto-element. Check out my prototype!"
        }
    });
</script>


<dom-module id="configurable-name-tag">

    <template>
        <!-- bind to the "owner" property -->
        This is <b>{{owner}}</b>'s configurable-name-tag element.
    </template>

    <script>
        Polymer({
            is: "configurable-name-tag",
            properties: {
                // declare the owner property
                owner: {
                    type: String,
                    value: "Daniel"
                }
            }
        });
    </script>

</dom-module>


<dom-module id="editable-name-tag">

    <template>
        <p>
            This is a <strong>{{owner}}</strong>'s editable-name-tag.
        </p>
        <!-- iron-input exposes a two-way bindable input value -->
        <input is="iron-input" bind-value="{{owner}}"
               placeholder="Your name here...">
    </template>

    <script>
        Polymer({
            is: "editable-name-tag",
            properties: {
                owner: {
                    type: String,
                    value: "Daniel"
                }
            }
        });
    </script>

</dom-module>


<dom-module id="my-element">
    <template>
        <div>{{messageValidationError}}</div>
        <input type="text" value="{{message::input}}" placeholder="Type a name" on-keyup="messageChanged">
    </template>
    <script>
        Polymer({
            is: "my-element",
            properties: {
                message: {
                    type: String,
                    value: "Daniel"
                },
                messageValidationError: {
                    type: String,
                    value: "Empty"
                },
                minLength: {
                    type: String,
                    value: 2
                },
                maxLength: {
                    type: String,
                    value: 12
                }
            },
            messageChanged: function() {
                var trimmedMessage = this.message.trim();
                if (trimmedMessage.length < this.minLength ||
                        trimmedMessage.length > this.maxLength) {
                    this.messageValidationError = 'Must be between ' +
                            this.minLength + ' and ' +
                            this.maxLength + ' characters.';
                } else {
                    this.messageValidationError = '';
                }
            }

        });
    </script>
</dom-module>
